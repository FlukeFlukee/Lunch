<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>üç± ‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á‡∏ô‡∏µ‡πâ‡∏Å‡∏¥‡∏ô‡πÑ‡∏£‡∏î‡∏µ ü´è</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 text-gray-800">
<div class="max-w-5xl mx-auto p-6">

<h1 class="text-3xl font-bold text-pink-600 mb-4">üç± ‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á‡∏ô‡∏µ‡πâ‡∏Å‡∏¥‡∏ô‡πÑ‡∏£‡∏î‡∏µ ü´è</h1>

<!-- ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÉ‡∏Ñ‡∏£‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏±‡πà‡∏á -->
<div id="todayOrderBox" class="mb-6 bg-white rounded-xl shadow p-6 text-center"></div>

<!-- ‡∏ü‡∏≠‡∏£‡πå‡∏° -->
<form id="mainForm" class="space-y-6 bg-white shadow-xl p-6 rounded-2xl">

<!-- ‡∏ú‡∏π‡πâ‡∏™‡∏±‡πà‡∏á -->
<div>
  <h2 class="text-lg font-semibold mb-2">üë• ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏™‡∏±‡πà‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£</h2>
  <div id="userBlocks" class="space-y-4"></div>
  <button type="button" onclick="addUserBlock()"
    class="bg-red-700 text-white px-4 py-2 rounded-lg">
    ‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡∏™‡∏±‡πà‡∏á
  </button>
</div>

<!-- ‡πÄ‡∏á‡∏¥‡∏ô -->
<div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
  <div>
    <label class="block font-medium">üí∏ ‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î</label>
    <input type="number" id="discount" class="w-full p-2 border rounded" value="0">
  </div>
  <div>
    <label class="block font-medium">üöö ‡∏Ñ‡πà‡∏≤‡∏à‡∏±‡∏î‡∏™‡πà‡∏á</label>
    <input type="number" id="delivery" class="w-full p-2 border rounded" value="0">
  </div>
</div>

<!-- ‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô -->
<div class="border-t pt-4">
  <h2 class="text-lg font-semibold mb-2">üí≥ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô</h2>

  <div class="flex gap-4 mb-3">
    <label><input type="radio" name="payType" value="bank" checked> ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£</label>
    <label><input type="radio" name="payType" value="promptpay"> ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏û‡∏¢‡πå</label>
  </div>

  <div id="bankBox" class="space-y-2">
    <select id="bankName" class="w-full p-2 border rounded">
      <option>‡∏Å‡∏™‡∏¥‡∏Å‡∏£‡πÑ‡∏ó‡∏¢</option>
      <option>‡πÑ‡∏ó‡∏¢‡∏û‡∏≤‡∏ì‡∏¥‡∏ä‡∏¢‡πå</option>
      <option>‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û</option>
      <option>‡∏Å‡∏£‡∏∏‡∏á‡πÑ‡∏ó‡∏¢</option>
      <option>‡∏Å‡∏£‡∏∏‡∏á‡∏®‡∏£‡∏µ</option>
      <option>‡∏≠‡∏≠‡∏°‡∏™‡∏¥‡∏ô</option>
    </select>
    <input id="bankNumber" class="w-full p-2 border rounded" placeholder="‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ç‡∏ä‡∏µ">
  </div>

  <div id="promptBox" class="space-y-2 hidden">
    <input id="promptNumber" class="w-full p-2 border rounded" placeholder="‡πÄ‡∏•‡∏Ç‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏û‡∏¢‡πå">
  </div>
</div>

<button class="bg-pink-600 text-white px-4 py-2 rounded">ü´è ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</button>
</form>

<!-- Summary -->
<div id="resultSection" class="mt-8"></div>

<!-- ‡∏õ‡∏è‡∏¥‡∏ò‡∏¥‡∏ô -->
<div class="mt-6">
  <button onclick="toggleCalendar()"
    class="bg-blue-600 text-white px-4 py-2 rounded">
    üìÖ ‡πÅ‡∏™‡∏î‡∏á / ‡∏ã‡πà‡∏≠‡∏ô ‡∏õ‡∏è‡∏¥‡∏ò‡∏¥‡∏ô‡∏ú‡∏π‡πâ‡∏™‡∏±‡πà‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£
  </button>
  <div id="calendarSection" class="mt-4 hidden"></div>
</div>

</div>

<script>
/* ================== DATA ================== */
const defaultUsers=["‡∏û‡∏µ‡πà‡∏ü‡∏•‡∏∏‡πä‡∏Ñ","‡∏û‡∏µ‡πà‡∏ã‡∏¥‡∏ô","‡∏û‡∏µ‡πà‡∏ï‡∏±‡πä‡∏Å","‡∏û‡∏µ‡πà‡πÇ‡∏£‡∏™","‡∏û‡∏µ‡πà‡πÅ‡∏ö‡∏á‡∏Ñ‡πå","‡∏ô‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏¢","‡πÑ‡∏≠‡πà‡∏Ç‡∏ß‡∏±‡∏ç","‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏Ñ‡∏ô","‡∏û‡∏µ‡πà‡∏Å‡∏¥‡πä‡∏ü","‡∏û‡∏µ‡πà‡∏ï‡∏¥‡πä‡∏Å"];
const orderPersons=["‡∏ô‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏¢","‡∏ô‡πâ‡∏≠‡∏á‡∏ã‡∏¥‡∏ô","‡∏û‡∏µ‡πà‡∏ü‡∏•‡∏∏‡πä‡∏Ñ","‡∏û‡∏µ‡πà‡πÇ‡∏£‡∏™","‡πÑ‡∏≠‡πà‡∏Ç‡∏ß‡∏±‡∏ç","‡∏û‡∏µ‡πà‡πÅ‡∏ö‡∏á‡∏Ñ‡πå"];

/* ================== USER ORDER ================== */
function createMenuRow(){
  const d=document.createElement("div");
  d.className="grid grid-cols-2 gap-2";
  d.innerHTML=`<input class="food-name p-2 border rounded" placeholder="‡πÄ‡∏°‡∏ô‡∏π">
               <input class="food-price p-2 border rounded" type="number" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤">`;
  return d;
}

function addUserBlock(name=""){
  const d=document.createElement("div");
  d.className="bg-gray-50 p-4 rounded";
  d.innerHTML=`<input class="username p-2 border rounded mb-2" value="${name}">
               <div class="menu-list"></div>
               <button type="button" onclick="addMenuToUser(this)"
               class="bg-blue-500 text-white px-2 py-1 mt-2 rounded">‚ûï ‡πÄ‡∏°‡∏ô‡∏π</button>`;
  userBlocks.appendChild(d);
  d.querySelector(".menu-list").appendChild(createMenuRow());
}

function addMenuToUser(b){
  b.parentElement.querySelector(".menu-list").appendChild(createMenuRow());
}

/* ================== CALENDAR ================== */
function shuffle(arr){
  const a=[...arr];
  for(let i=a.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [a[i],a[j]]=[a[j],a[i]];
  }
  return a;
}

function generateCalendar(start,end){
  const cal={}, people=shuffle(orderPersons);
  let idx=0;
  for(let d=new Date(start); d<=end; d.setDate(d.getDate()+1)){
    if(d.getDay()==0||d.getDay()==6) continue;
    if(idx>=people.length){
      idx=0;
      people.splice(0,people.length,...shuffle(orderPersons));
    }
    cal[d.toISOString().split("T")[0]]=people[idx++];
  }
  return cal;
}

const calendarData=generateCalendar(
  new Date("2026-01-01"),
  new Date("2030-12-31")
);

(function showToday(){
  const d=new Date();
  const k=d.toISOString().split("T")[0];
  todayOrderBox.innerHTML=`
    <h2 class="text-2xl font-bold text-green-600">üç± ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏ú‡∏π‡πâ‡∏™‡∏±‡πà‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£</h2>
    <p class="text-3xl mt-4 font-bold">
      ${calendarData[k]||"‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏±‡πà‡∏á"}
    </p>
    <p class="mt-2 text-gray-500">${k}</p>`;
})();

function toggleCalendar(){
  calendarSection.classList.toggle("hidden");
  if(calendarSection.innerHTML) return;
  calendarSection.innerHTML=`
    <div class="bg-white p-4 rounded shadow max-h-[500px] overflow-y-auto">
      ${Object.entries(calendarData).map(([d,p])=>
        `<div class="border-b p-2">${d} : <b>${p}</b></div>`
      ).join("")}
    </div>`;
}

/* ================== PAY TYPE ================== */
document.querySelectorAll("input[name=payType]").forEach(r=>{
  r.onchange=()=>{
    bankBox.classList.toggle("hidden",r.value!=="bank");
    promptBox.classList.toggle("hidden",r.value!=="promptpay");
  };
});

defaultUsers.forEach(addUserBlock);
</script>
</body>
</html>
